{
  "meta": {
    "version": "1.0",
    "title": "DiagramFlow — Project Architecture",
    "created": "2026-02-21T00:00:00Z",
    "modified": "2026-02-21T15:13:23.397Z"
  },
  "nodes": [
    {
      "id": "user",
      "label": "User / Developer",
      "shape": "rounded",
      "color": "blue",
      "x": 400,
      "y": 20,
      "width": 180,
      "height": 48,
      "pinned": true
    },
    {
      "id": "copilot",
      "label": "GitHub Copilot",
      "shape": "rounded",
      "color": "purple",
      "x": 700,
      "y": 20,
      "width": 180,
      "height": 48,
      "pinned": true
    },
    {
      "id": "extension",
      "label": "Extension Entry (extension.ts)",
      "shape": "rectangle",
      "color": "default",
      "x": 400,
      "y": 140,
      "width": 220,
      "height": 48,
      "pinned": true,
      "group": "g_host"
    },
    {
      "id": "editor_provider",
      "label": "DiagramEditorProvider",
      "shape": "rectangle",
      "color": "default",
      "x": 200,
      "y": 260,
      "width": 220,
      "height": 48,
      "pinned": true,
      "group": "g_host"
    },
    {
      "id": "diagram_service",
      "label": "DiagramService",
      "shape": "rectangle",
      "color": "default",
      "x": 480,
      "y": 260,
      "width": 200,
      "height": 48,
      "pinned": true,
      "group": "g_host"
    },
    {
      "id": "lm_tools",
      "label": "LM Tools (7 tools)",
      "shape": "rectangle",
      "color": "purple",
      "x": 750,
      "y": 260,
      "width": 200,
      "height": 48,
      "pinned": true,
      "group": "g_host"
    },
    {
      "id": "operations",
      "label": "operations.ts",
      "shape": "rectangle",
      "color": "green",
      "x": 200,
      "y": 400,
      "width": 180,
      "height": 48,
      "pinned": true,
      "group": "g_lib"
    },
    {
      "id": "layout_engine",
      "label": "layoutEngine.ts (Dagre)",
      "shape": "rectangle",
      "color": "green",
      "x": 420,
      "y": 400,
      "width": 200,
      "height": 48,
      "pinned": true,
      "group": "g_lib"
    },
    {
      "id": "schema_validator",
      "label": "SchemaValidator.ts",
      "shape": "rectangle",
      "color": "green",
      "x": 660,
      "y": 400,
      "width": 190,
      "height": 48,
      "pinned": true,
      "group": "g_lib"
    },
    {
      "id": "exporters",
      "label": "exporters.ts (SVG/Mermaid)",
      "shape": "rectangle",
      "color": "green",
      "x": 200,
      "y": 480,
      "width": 220,
      "height": 48,
      "pinned": true,
      "group": "g_lib"
    },
    {
      "id": "svg_metadata",
      "label": "svgMetadata.ts",
      "shape": "rectangle",
      "color": "green",
      "x": 460,
      "y": 480,
      "width": 180,
      "height": 48,
      "pinned": true,
      "group": "g_lib"
    },
    {
      "id": "agent_context",
      "label": "agentContext.ts",
      "shape": "rectangle",
      "color": "green",
      "x": 680,
      "y": 480,
      "width": 180,
      "height": 48,
      "pinned": true,
      "group": "g_lib"
    },
    {
      "id": "diagram_file",
      "label": ".diagram JSON file",
      "shape": "cylinder",
      "color": "yellow",
      "x": 480,
      "y": 600,
      "width": 200,
      "height": 48,
      "pinned": true
    },
    {
      "id": "webview",
      "label": "React Flow Webview",
      "shape": "rounded",
      "color": "blue",
      "x": 40,
      "y": 580,
      "width": 200,
      "height": 48,
      "pinned": true,
      "group": "g_webview"
    },
    {
      "id": "canvas",
      "label": "CanvasPanel",
      "shape": "rectangle",
      "color": "default",
      "x": 10,
      "y": 680,
      "width": 160,
      "height": 48,
      "pinned": true,
      "group": "g_webview"
    },
    {
      "id": "toolbar",
      "label": "Toolbar",
      "shape": "rectangle",
      "color": "default",
      "x": 200,
      "y": 680,
      "width": 140,
      "height": 48,
      "pinned": true,
      "group": "g_webview"
    },
    {
      "id": "props_panel",
      "label": "PropertiesPanel",
      "shape": "rectangle",
      "color": "default",
      "x": 370,
      "y": 680,
      "width": 170,
      "height": 48,
      "pinned": true,
      "group": "g_webview"
    },
    {
      "id": "protocol",
      "label": "Message Protocol",
      "shape": "diamond",
      "color": "yellow",
      "x": 40,
      "y": 430,
      "width": 190,
      "height": 48,
      "pinned": true
    }
  ],
  "edges": [
    {
      "id": "e_user_ext",
      "source": "user",
      "target": "extension",
      "label": "activates",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_copilot_tools",
      "source": "copilot",
      "target": "lm_tools",
      "label": "invokes tools",
      "style": "dashed",
      "arrow": "normal",
      "animated": true
    },
    {
      "id": "e_ext_provider",
      "source": "extension",
      "target": "editor_provider",
      "label": "registers",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_ext_service",
      "source": "extension",
      "target": "diagram_service",
      "label": "creates",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_ext_tools",
      "source": "extension",
      "target": "lm_tools",
      "label": "registers",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_provider_service",
      "source": "editor_provider",
      "target": "diagram_service",
      "label": "delegates ops",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_tools_service",
      "source": "lm_tools",
      "target": "diagram_service",
      "label": "semantic ops",
      "style": "dashed",
      "arrow": "normal",
      "animated": true
    },
    {
      "id": "e_service_ops",
      "source": "diagram_service",
      "target": "operations",
      "label": "applyOps",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_service_layout",
      "source": "diagram_service",
      "target": "layout_engine",
      "label": "layout",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_ops_validator",
      "source": "operations",
      "target": "schema_validator",
      "label": "validates",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_service_file",
      "source": "diagram_service",
      "target": "diagram_file",
      "label": "reads/writes JSON",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_provider_protocol",
      "source": "editor_provider",
      "target": "protocol",
      "label": "sends/receives",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_protocol_webview",
      "source": "protocol",
      "target": "webview",
      "label": "messages",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_webview_canvas",
      "source": "webview",
      "target": "canvas",
      "label": "",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_webview_toolbar",
      "source": "webview",
      "target": "toolbar",
      "label": "",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_webview_props",
      "source": "webview",
      "target": "props_panel",
      "label": "",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_export_svg",
      "source": "editor_provider",
      "target": "exporters",
      "label": "export SVG/Mermaid",
      "style": "dashed",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_import_svg",
      "source": "editor_provider",
      "target": "svg_metadata",
      "label": "import SVG",
      "style": "dashed",
      "arrow": "normal",
      "animated": false
    },
    {
      "id": "e_ops_context",
      "source": "operations",
      "target": "agent_context",
      "label": "generates",
      "style": "solid",
      "arrow": "normal",
      "animated": false
    }
  ],
  "groups": [
    {
      "id": "g_host",
      "label": "Extension Host (VS Code)",
      "color": "default"
    },
    {
      "id": "g_lib",
      "label": "Core Libraries (Pure Functions)",
      "color": "green"
    },
    {
      "id": "g_webview",
      "label": "Webview (React)",
      "color": "blue"
    }
  ],
  "viewport": {
    "x": 0,
    "y": 0,
    "zoom": 1
  },
  "agentContext": {
    "format": "diagramflow-v1",
    "generatedAt": "2026-02-21T15:13:23.398Z",
    "summary": "\"DiagramFlow — Project Architecture\" contains 18 nodes (\"User / Developer\", \"GitHub Copilot\", \"Extension Entry (extension.ts)\", \"DiagramEditorProvider\", \"DiagramService\" and 13 more) connected by 19 edges. Grouped into: \"Extension Host (VS Code)\" (4 nodes), \"Core Libraries (Pure Functions)\" (6 nodes), \"Webview (React)\" (4 nodes).",
    "nodeIndex": [
      {
        "id": "user",
        "label": "User / Developer"
      },
      {
        "id": "copilot",
        "label": "GitHub Copilot"
      },
      {
        "id": "extension",
        "label": "Extension Entry (extension.ts)",
        "group": "g_host"
      },
      {
        "id": "editor_provider",
        "label": "DiagramEditorProvider",
        "group": "g_host"
      },
      {
        "id": "diagram_service",
        "label": "DiagramService",
        "group": "g_host"
      },
      {
        "id": "lm_tools",
        "label": "LM Tools (7 tools)",
        "group": "g_host"
      },
      {
        "id": "operations",
        "label": "operations.ts",
        "group": "g_lib"
      },
      {
        "id": "layout_engine",
        "label": "layoutEngine.ts (Dagre)",
        "group": "g_lib"
      },
      {
        "id": "schema_validator",
        "label": "SchemaValidator.ts",
        "group": "g_lib"
      },
      {
        "id": "exporters",
        "label": "exporters.ts (SVG/Mermaid)",
        "group": "g_lib"
      },
      {
        "id": "svg_metadata",
        "label": "svgMetadata.ts",
        "group": "g_lib"
      },
      {
        "id": "agent_context",
        "label": "agentContext.ts",
        "group": "g_lib"
      },
      {
        "id": "diagram_file",
        "label": ".diagram JSON file"
      },
      {
        "id": "webview",
        "label": "React Flow Webview",
        "group": "g_webview"
      },
      {
        "id": "canvas",
        "label": "CanvasPanel",
        "group": "g_webview"
      },
      {
        "id": "toolbar",
        "label": "Toolbar",
        "group": "g_webview"
      },
      {
        "id": "props_panel",
        "label": "PropertiesPanel",
        "group": "g_webview"
      },
      {
        "id": "protocol",
        "label": "Message Protocol"
      }
    ],
    "edgeIndex": [
      {
        "from": "User / Developer",
        "to": "Extension Entry (extension.ts)",
        "label": "activates"
      },
      {
        "from": "GitHub Copilot",
        "to": "LM Tools (7 tools)",
        "label": "invokes tools",
        "style": "dashed"
      },
      {
        "from": "Extension Entry (extension.ts)",
        "to": "DiagramEditorProvider",
        "label": "registers"
      },
      {
        "from": "Extension Entry (extension.ts)",
        "to": "DiagramService",
        "label": "creates"
      },
      {
        "from": "Extension Entry (extension.ts)",
        "to": "LM Tools (7 tools)",
        "label": "registers"
      },
      {
        "from": "DiagramEditorProvider",
        "to": "DiagramService",
        "label": "delegates ops"
      },
      {
        "from": "LM Tools (7 tools)",
        "to": "DiagramService",
        "label": "semantic ops",
        "style": "dashed"
      },
      {
        "from": "DiagramService",
        "to": "operations.ts",
        "label": "applyOps"
      },
      {
        "from": "DiagramService",
        "to": "layoutEngine.ts (Dagre)",
        "label": "layout"
      },
      {
        "from": "operations.ts",
        "to": "SchemaValidator.ts",
        "label": "validates"
      },
      {
        "from": "DiagramService",
        "to": ".diagram JSON file",
        "label": "reads/writes JSON"
      },
      {
        "from": "DiagramEditorProvider",
        "to": "Message Protocol",
        "label": "sends/receives"
      },
      {
        "from": "Message Protocol",
        "to": "React Flow Webview",
        "label": "messages"
      },
      {
        "from": "React Flow Webview",
        "to": "CanvasPanel"
      },
      {
        "from": "React Flow Webview",
        "to": "Toolbar"
      },
      {
        "from": "React Flow Webview",
        "to": "PropertiesPanel"
      },
      {
        "from": "DiagramEditorProvider",
        "to": "exporters.ts (SVG/Mermaid)",
        "label": "export SVG/Mermaid",
        "style": "dashed"
      },
      {
        "from": "DiagramEditorProvider",
        "to": "svgMetadata.ts",
        "label": "import SVG",
        "style": "dashed"
      },
      {
        "from": "operations.ts",
        "to": "agentContext.ts",
        "label": "generates"
      }
    ],
    "groupIndex": [
      {
        "group": "Extension Host (VS Code)",
        "members": [
          "Extension Entry (extension.ts)",
          "DiagramEditorProvider",
          "DiagramService",
          "LM Tools (7 tools)"
        ]
      },
      {
        "group": "Core Libraries (Pure Functions)",
        "members": [
          "operations.ts",
          "layoutEngine.ts (Dagre)",
          "SchemaValidator.ts",
          "exporters.ts (SVG/Mermaid)",
          "svgMetadata.ts",
          "agentContext.ts"
        ]
      },
      {
        "group": "Webview (React)",
        "members": [
          "React Flow Webview",
          "CanvasPanel",
          "Toolbar",
          "PropertiesPanel"
        ]
      }
    ],
    "usage": "When the DiagramFlow VS Code extension is installed, use the diagramflow_getDiagram / diagramflow_addNodes / diagramflow_addEdges / diagramflow_updateNodes / diagramflow_updateEdges / diagramflow_removeNodes / diagramflow_removeEdges tools to read and modify this diagram programmatically."
  }
}